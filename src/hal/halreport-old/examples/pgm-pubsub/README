example for publish/subscribe over PGM (Pragmatic Reliable Multicast, RFC3208) sockets
see http://en.wikipedia.org/wiki/Pragmatic_General_Multicast

this requires libzmq built with './configure --with-pgm'

this runs fine over normal LAN interfaces between machines (ethX - edit Python source as needed)

to run on the same host, multicast on the loopback network interface needs to be enabled
like so:

$ sudo ifconfig lo multicast
$ sudo route add -net 224.0.0.0 netmask 240.0.0.0 dev lo

also, set interface to "127.0.0.1" in both Python files

Now run 'python publish.py' and one or several instances of 'python subscribe.py' in separate windows

there will be a startup warning for both python programs, which can be ignored:

Warn: Interface lo reports as a loopback device.


see also: http://www.dancres.org/bjspj/docs/docs/linux.html